<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>{% block title %}Welcome!{% endblock %}</title>
        {% block stylesheets %}
        <link rel="stylesheet" type="text/css" href="{{ asset('bundles/portfolio/css/pure.css') }}">
        <link rel="stylesheet" type="text/css" href="{{ asset('bundles/portfolio/css/grids-responsive.css') }}">
        <link rel="stylesheet" type="text/css" href="{{ asset('css/base.css') }}">
        {% endblock %}
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}">
    </head>
    <body>
        {% block body %}
            <header id="header" class="pure-g">
                <div class="pure-u-1 pure-u-md-1-3">
                    <div class="pure-menu">
                        <a href="{{ url('homepage') }}" id="logo" class="menu-link pure-menu-heading">Eric's Portfolio</a>
                        <a href="#" id="toggle" class="menu-icon"><span class="bar"></span><span class="bar"></span></a>
                    </div>
                </div>
                <nav class="pure-u-1 pure-u-md-1-3">
                    <div class="can-transform pure-menu pure-menu-horizontal">
                        <ul class="pure-menu-list">
                            <li class="pure-menu-separator"></li>
                            <li class="pure-menu-item"><a href="" class="menu-link pure-menu-link">Resume</a></li>
                        </ul>
                    </div>
                </nav>
                <nav class="pure-u-1 pure-u-md-1-3">
                    <div class="can-transform pure-menu pure-menu-horizontal menu-right">
                        <ul class="pure-menu-list">
                            <li class="pure-menu-separator"></li>
                            <li class="pure-menu-item"><a href="{{ url('portfolio_security_register') }}" class="menu-button pure-menu-link">Register</a></li>
                            <li class="pure-menu-item"><a href="{{ url('login') }}" class="menu-button menu-button-primary pure-menu-link">Login</a></li>
                        </ul>
                    </div>
                </nav>
            </header>
            <section id="content">
                {% block content %}{% endblock %}
            </section>
        {% endblock %}
        {%- block javascripts -%}
        <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", function (event) {
                var header = document.getElementById('header'),
                    WINDOW_CHANGE_EVENT = ('onorientationchange' in window) ? 'orientationchange':'resize';

                function closeMenu() {
                    if (header.classList.contains('active')) {
                        toggleMenu();
                    }
                }

                function toggleHorizontal() {
                    Array.prototype.forEach.call(document.getElementsByClassName('can-transform'), function (element, i, a) {
                        element.classList.toggle('pure-menu-horizontal');
                    });
                }

                function toggleMenu() {
                    if (header.classList.contains('active')) {
                        setTimeout(toggleHorizontal, 500);
                    } else {
                        toggleHorizontal();
                    }

                    document.getElementById('toggle').classList.toggle('active');
                    header.classList.toggle('active');
                }

                Array.prototype.forEach.call(document.getElementsByClassName('menu-icon'), function (element, index, array) {
                    element.addEventListener('click', function (event) {
                        toggleMenu();
                        event.preventDefault();
                    });
                });

                window.addEventListener(WINDOW_CHANGE_EVENT, closeMenu);
            });
        </script>
        {%- endblock -%}
    </body>
</html>
